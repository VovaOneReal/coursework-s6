## Модуль Diet

### **GET** /diet ? did & rulogin

Получить информацию о плане питания.

#### Query

- `did`: int - ID плана
- `rulogin`: str(32) - логин пользователя, который запрашивает информацию

#### Response

##### 200

Успешное получение информации

```json
{
    id: int,
    name: str(80),
    creation_date: str,
    date: str
    recipes: [
        {
            id: int,
            editor_login?: str(32),
            name: str(120),
            description?: str,
            category: str(32),
            creation_date: str,
            moderation_date?: str,
            status: str // статус публикации
            meal_type: str // тип приёма пищи
        }
    ],
}
```

##### 400

Запрос составлен неправильно, подробнее в message.

##### 403

Доступ к методу запрещён.

##### 404

Такой сущности не существует.

### **POST** /diet ? ulogin

Добавить план в профиль пользователя.

#### Query

- `ulogin`: str(32) - логин пользователя, для которого добавляется план

#### Body

```json
{
    name: str(80),
    date: str,
}
```

#### Response

##### 200

Успешное добавление плана

```json
{
    id: int, // id нового плана
}
```

##### 400

Запрос составлен неправильно, подробнее в message.

##### 403

Доступ к методу запрещён.

##### 404

Такой сущности не существует.

### **PATCH** /diet ? did & rulogin

Изменить информацию о плане.

#### Query

- `did`: int - ID плана
- `rulogin`: str(32) - логин пользователя, который изменяет информацию

#### Body

```json
{
    name: str(80), // новое название плана
    date: str, // новая дата плана
    recipes: [
        {
            id: int,
            meal_type: str // тип приёма пищи
        }
    ],
}
```

#### Response

##### 200

Успешное изменение плана

##### 400

Запрос составлен неправильно, подробнее в message.

##### 403

Доступ к методу запрещён.

##### 404

Такой сущности не существует.

### **DELETE** /diet ? did & rlogin

Удалить план.

#### Query

- `did`: int - ID плана
- `rlogin`: str(32) - логин пользователя, который удаляет план

#### Response

##### 200

Успешное удаление плана

##### 400

Запрос составлен неправильно, подробнее в message.

##### 403

Доступ к методу запрещён.

##### 404

Такого плана не существует.

### **POST** /diet/addrecipe ? did & rid & rulogin

Добавить рецепт в план.

#### Query

- `did`: int - ID плана, куда добавляем рецепт
- `rid`: int - ID рецепта, который добавляем
- `rulogin`: str(32) - логин пользователя, который добавляет рецепт

#### Body

```json
{
    meal_type: str // тип приёма пищи
}
```

#### Response

##### 200

Успешное добавление рецепта в план

##### 400

Запрос составлен неправильно, подробнее в message.

##### 403

Доступ к методу запрещён.

##### 404

Такой коллекции не существует.
